<div class="container">
  <h1>Create notes or upload an existing document</h1>
  <%= simple_form_for [@dog, @document] do |f| %>
    <%= f.input :title,
                label: "Title",
                placeholder: "e.g. Vaccination Record" %>

    <%= f.input :content,
                as: :text,
                label: "Content/Notes",
                placeholder: "Add your notes here..." %>

    <%= f.input :category,
            collection: Document::CATEGORIES,
            prompt: "Select a category" %>

    <%= f.input :photos, as: :file, input_html: { multiple: true } %>

    <% other_dogs = @dog.household.dogs.where.not(id: @dog.id) %>
    <% if other_dogs.any? %>
      <fieldset class="mb-3">
        <legend>Also add to other dogs?</legend>
        <% other_dogs.each do |dog| %>
          <div class="form-check">
            <%= check_box_tag "copy_to_dog_ids[]", dog.id, false, class: "form-check-input", id: "dog_#{dog.id}" %>
            <%= label_tag "dog_#{dog.id}", dog.name, class: "form-check-label" %>
          </div>
        <% end %>
      </fieldset>
    <% end %>

    <%= f.submit "Save", class: "btn btn-warning btn-lg my-5" %>
    <%= link_to "Cancel", dog_documents_path(@dog), class: "btn btn-warning btn-lg my-5" %>
   <% end %>
</div>
